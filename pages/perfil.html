<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Perfil CBikeAI - Gerencie sua conta e preferências">
    <!-- Metadados para SEO -->
    <meta property="og:title" content="CBikeAI - Perfil">
    <meta property="og:image" content="https://www.cbikeai.com/img/logotipo-cbikeai.png">
    <meta property="og:url" content="https://www.cbikeai.com/perfil.html">
    <meta name="twitter:card" content="summary_large_image">
    <title>CBikeAI - Meu Perfil</title>
    <link rel="icon" href="../img/favicon.ico" type="image/x-icon">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="preload" href="../css/style.css" as="style">
    <link rel="preload" href="../css/perfil.css" as="style">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/perfil.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7C6KGFMFV6"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7C6KGFMFV6');
    </script>

    <style>
        /* Estilos adicionais específicos para o perfil */
        .profile-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2.5rem;
        }
        
        .stat-card {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 16px;
            text-align: center;
            border: 1px solid rgba(9, 227, 49, 0.15);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--neon-green), var(--neon-green-hover));
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            border-color: rgba(9, 227, 49, 0.3);
            box-shadow: 0 10px 30px rgba(9, 227, 49, 0.15);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--neon-green);
            display: block;
            line-height: 1;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 10px rgba(9, 227, 49, 0.3);
        }
        
        .stat-label {
            color: #ccc;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .profile-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 2.5rem;
        }
        
        .feature-card {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 16px;
            border: 1px solid rgba(9, 227, 49, 0.15);
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            border-color: rgba(9, 227, 49, 0.3);
            box-shadow: 0 10px 30px rgba(9, 227, 49, 0.15);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            color: var(--neon-green);
            margin-bottom: 1rem;
        }
        
        .feature-title {
            font-size: 1.2rem;
            color: var(--neon-green);
            margin-bottom: 1rem;
            font-weight: 700;
        }
        
        .feature-description {
            color: #ccc;
            font-size: 0.95rem;
            line-height: 1.5;
            margin-bottom: 1.5rem;
        }
        
        .premium-badge {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #000;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            display: inline-block;
            margin-top: 0.5rem;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }
        
        .edit-profile-btn {
            position: absolute;
            top: 2rem;
            right: 2rem;
            background: rgba(9, 227, 49, 0.1);
            border: 1px solid var(--neon-green);
            color: var(--neon-green);
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .edit-profile-btn:hover {
            background: var(--neon-green);
            color: var(--background);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(9, 227, 49, 0.4);
        }
        
        @media (max-width: 768px) {
            .edit-profile-btn {
                position: static;
                margin-top: 1rem;
                width: 100%;
                justify-content: center;
            }
            
            .profile-stats {
                grid-template-columns: 1fr;
            }
            
            .profile-features {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header role="banner">
        <div class="logo">
            <img src="../img/logotipo-cbikeai.png" alt="Logo CBikeAI">
        </div>
        <nav aria-label="Navegação principal">
            <a href="../index.html">Início</a>
            <a href="../pages/quemsomos.html">Quem Somos</a>
            <a href="../pages/contato.html">Contato</a>
            <a href="../pages/perfil.html" aria-current="page">Meu Perfil</a>
        </nav>
    </header>

    <main class="main-content">
        <section class="profile-section">
            <div class="profile-container">
                <div id="profile-content"></div>
            </div>
        </section>
    </main>

    <footer role="contentinfo">
        <div class="footer-content">
            <div class="footer-section">
                <h3>CBikeAI</h3>
                <p>Revolucionando a segurança no ciclismo através da tecnologia e inovação.</p>
            </div>
            <div class="footer-section">
                <h3>Links Rápidos</h3>
                <ul>
                    <li><a href="../index.html">Início</a></li>
                    <li><a href="../pages/quemsomos.html">Quem Somos</a></li>
                    <li><a href="../pages/contato.html">Contato</a></li>
                    <li><a href="../pages/perfil.html">Meu Perfil</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Contato</h3>
                <ul>
                    <li><i class="fas fa-envelope"></i> contato@cbikeai.com</li>
                    <li><i class="fas fa-phone"></i> (16) 99232-0372</li>
                    <li><i class="fas fa-map-marker-alt"></i> Taquaritinga - SP</li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p class="copyright">© 2025 CBikeAI. Todos os direitos reservados.</p>
            <div class="social-media">
                <a href="https://www.instagram.com/cbikeai" onclick="gtag('event', 'click_social', {'social_network': 'Instagram'});" target="_blank" rel="noopener noreferrer" aria-label="Siga-nos no Instagram">
                    <i class="fa-brands fa-instagram"></i>
                </a>
                <a href="https://www.x.com/cbikeai" onclick="gtag('event', 'click_social', {'social_network': 'X'});" target="_blank" rel="noopener noreferrer" aria-label="Siga-nos no X">
                    <i class="fa-brands fa-x-twitter"></i>
                </a>
                <a href="https://www.facebook.com/cbikeai" onclick="gtag('event', 'click_social', {'social_network': 'Facebook'});" target="_blank" rel="noopener noreferrer" aria-label="Siga-nos no Facebook">
                    <i class="fa-brands fa-facebook-f"></i>
                </a>
            </div>
        </div>
    </footer>

    <!-- VLibras -->
    <div vw class="enabled">
        <div vw-access-button class="active"></div>
        <div vw-plugin-wrapper><div class="vw-plugin-top-wrapper"></div></div>
    </div>
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script>new window.VLibras.Widget('https://vlibras.gov.br/app');</script>

    <!-- JavaScript do Perfil -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const profileContent = document.getElementById('profile-content');
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            const userName = localStorage.getItem('userName') || 'Usuário';
            const userEmail = localStorage.getItem('userEmail') || 'email@exemplo.com';
            const userAvatar = localStorage.getItem('userAvatar') || 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80';

            if (!isLoggedIn) {
                profileContent.innerHTML = `
                    <div class="not-logged">
                        <div class="not-logged-icon">
                            <i class="fas fa-user-lock"></i>
                        </div>
                        <h2>Acesso Restrito</h2>
                        <p>Faça login para acessar seu perfil personalizado e todos os recursos da CBikeAI.</p>
                        <div class="not-logged-actions">
                            <a href="../pages/login.html" class="btn btn-primary">
                                <i class="fas fa-sign-in-alt"></i>
                                Fazer Login
                            </a>
                            <a href="../pages/criar-conta.html" class="btn btn-secondary">
                                <i class="fas fa-user-plus"></i>
                                Criar Conta
                            </a>
                        </div>
                    </div>
                `;
                return;
            }

            // Detecta método de login
            const loginMethod = userEmail.includes('@google') ? 'Google' :
                               userEmail.includes('@facebook') ? 'Facebook' :
                               userEmail.includes('@apple') ? 'Apple' : 'E-mail';

            profileContent.innerHTML = `
                <div class="profile-header">
                    <button class="edit-profile-btn" id="edit-profile-btn">
                        <i class="fas fa-edit"></i>
                        Editar Perfil
                    </button>
                    
                    <div class="avatar-container">
                        <img src="${userAvatar}" alt="Foto do usuário ${userName}" class="profile-avatar" 
                             onerror="this.src='https://ui-avatars.com/api/?name=${encodeURIComponent(userName)}&background=09e331&color=000&size=200'">
                        <div class="avatar-overlay">
                            <i class="fas fa-camera"></i>
                        </div>
                    </div>
                    
                    <h1 class="profile-name">${userName}</h1>
                    <p class="profile-email">${userEmail}</p>
                    <div class="profile-badges">
                        <span class="user-badge"><i class="fas fa-check-circle"></i> Verificado</span>
                        <span class="premium-badge"><i class="fas fa-crown"></i> Premium</span>
                    </div>
                </div>

                <div class="profile-stats">
                    <div class="stat-card">
                        <span class="stat-number">12</span>
                        <span class="stat-label">Rotas Salvas</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">347</span>
                        <span class="stat-label">Km Percorridos</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">28</span>
                        <span class="stat-label">Dias de Uso</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">5</span>
                        <span class="stat-label">Amigos</span>
                    </div>
                </div>

                <div class="profile-info">
                    <div class="info-section">
                        <h3 class="section-title"><i class="fas fa-user-circle"></i> Informações Pessoais</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">
                                    <i class="fas fa-envelope"></i>
                                    E-mail
                                </span>
                                <span class="info-value">${userEmail}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">
                                    <i class="fas fa-calendar-alt"></i>
                                    Membro desde
                                </span>
                                <span class="info-value">Outubro 2025</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">
                                    <i class="fas fa-sign-in-alt"></i>
                                    Método de login
                                </span>
                                <span class="info-value">
                                    ${loginMethod}
                                    ${loginMethod !== 'E-mail' ? '<i class="fas fa-check verified-icon"></i>' : ''}
                                </span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">
                                    <i class="fas fa-shield-alt"></i>
                                    Status da conta
                                </span>
                                <span class="info-value status-active">
                                    <i class="fas fa-circle"></i>
                                    Ativa
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="info-section">
                        <h3 class="section-title"><i class="fas fa-bicycle"></i> Preferências de Ciclismo</h3>
                        <div class="preferences-grid">
                            <div class="preference-item">
                                <span class="preference-label">Tipo de bicicleta</span>
                                <span class="preference-value">Urbana</span>
                            </div>
                            <div class="preference-item">
                                <span class="preference-label">Nível de experiência</span>
                                <span class="preference-value">Intermediário</span>
                            </div>
                            <div class="preference-item">
                                <span class="preference-label">Distância preferida</span>
                                <span class="preference-value">10-20 km</span>
                            </div>
                            <div class="preference-item">
                                <span class="preference-label">Notificações</span>
                                <span class="preference-value">Ativas</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="profile-features">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-route"></i>
                        </div>
                        <h4 class="feature-title">Minhas Rotas</h4>
                        <p class="feature-description">Acesse e gerencie suas rotas salvas e histórico de percursos.</p>
                        <button class="btn btn-outline">
                            <i class="fas fa-eye"></i>
                            Ver Rotas
                        </button>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h4 class="feature-title">Estatísticas</h4>
                        <p class="feature-description">Acompanhe seu progresso e métricas de desempenho.</p>
                        <button class="btn btn-outline">
                            <i class="fas fa-chart-bar"></i>
                            Ver Estatísticas
                        </button>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-cog"></i>
                        </div>
                        <h4 class="feature-title">Configurações</h4>
                        <p class="feature-description">Personalize suas preferências e configurações da conta.</p>
                        <button class="btn btn-outline">
                            <i class="fas fa-sliders-h"></i>
                            Configurar
                        </button>
                    </div>
                </div>

                <div class="profile-actions">
                    <a href="../index.html" class="action-btn">
                        <i class="fas fa-home"></i>
                        Voltar ao Início
                    </a>
                    <button class="action-btn" id="settings-btn">
                        <i class="fas fa-cog"></i>
                        Configurações
                    </button>
                    <button class="logout-btn" id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        Sair da Conta
                    </button>
                </div>
            `;

            // Event Listeners
            document.getElementById('logout-btn').addEventListener('click', function () {
                if (confirm('Tem certeza que deseja sair da sua conta?')) {
                    localStorage.clear();
                    window.location.href = '../pages/login.html';
                }
            });

            document.getElementById('edit-profile-btn').addEventListener('click', function () {
                alert('Funcionalidade de edição de perfil em desenvolvimento!');
            });

            document.getElementById('settings-btn').addEventListener('click', function () {
                alert('Configurações da conta em desenvolvimento!');
            });

            // Avatar hover effect
            const avatarContainer = document.querySelector('.avatar-container');
            if (avatarContainer) {
                avatarContainer.addEventListener('click', function() {
                    alert('Funcionalidade de alteração de foto em desenvolvimento!');
                });
            }
        });
    </script>
</body>
</html>